<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Background</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Great+Vibes&display=swap" rel="stylesheet" />
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html,
    body {
      height: 100%;
    }

    body {
      min-height: 100vh;
      min-height: 100svh;
      background: url("images/background.png") center/cover no-repeat;
      overflow: hidden;
      display: grid;
      place-items: center;
      perspective: 1400px;
    }

    .invite {
      position: relative;
      height: min(100svh, 980px);
      aspect-ratio: 2 / 3;
      width: auto;
      max-width: 94vw;
      max-height: 100svh;
      text-align: center;
      color: #a85b72;
      pointer-events: none;
      transform-origin: left center;
      transition: transform 0.75s cubic-bezier(0.2, 0.78, 0.2, 1), opacity 0.75s ease;
    }

    .page {
      position: absolute;
      inset: 0;
      opacity: 0;
      transform: translateY(10px);
      transition: opacity 0.35s ease, transform 0.35s ease;
      z-index: 2;
    }

    .page.active {
      opacity: 1;
      transform: translateY(0);
    }

    .turn-sheet {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 9;
      opacity: 0;
      transform-origin: left center;
      background:
        linear-gradient(90deg, rgba(255, 255, 255, 0.82) 0%, rgba(255, 239, 246, 0.68) 42%, rgba(238, 196, 211, 0.25) 100%);
      box-shadow: inset -24px 0 38px rgba(145, 90, 109, 0.22);
    }

    body.turning .turn-sheet {
      opacity: 1;
      animation: pageTurn 0.75s cubic-bezier(0.2, 0.78, 0.2, 1) forwards;
    }

    body.turning .invite {
      transform: rotateY(-12deg) translateX(-4%);
      opacity: 0.78;
    }

    .bokeh-layer,
    .sparkle-layer {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: 1;
      will-change: transform, opacity, background-position;
    }

    .bokeh-layer {
      background-image:
        radial-gradient(circle at 10% 22%, rgba(255, 255, 255, 0.35) 0px, rgba(255, 255, 255, 0.35) 10px, rgba(255, 255, 255, 0) 30px),
        radial-gradient(circle at 18% 75%, rgba(255, 244, 250, 0.32) 0px, rgba(255, 244, 250, 0.32) 12px, rgba(255, 244, 250, 0) 34px),
        radial-gradient(circle at 42% 16%, rgba(255, 255, 255, 0.28) 0px, rgba(255, 255, 255, 0.28) 8px, rgba(255, 255, 255, 0) 24px),
        radial-gradient(circle at 56% 64%, rgba(255, 246, 251, 0.26) 0px, rgba(255, 246, 251, 0.26) 9px, rgba(255, 246, 251, 0) 26px),
        radial-gradient(circle at 82% 26%, rgba(255, 255, 255, 0.33) 0px, rgba(255, 255, 255, 0.33) 11px, rgba(255, 255, 255, 0) 33px),
        radial-gradient(circle at 88% 78%, rgba(255, 244, 250, 0.31) 0px, rgba(255, 244, 250, 0.31) 10px, rgba(255, 244, 250, 0) 30px);
      opacity: 0.75;
      animation: bokehFloat 10s ease-in-out infinite alternate;
    }

    .sparkle-layer {
      background-image:
        radial-gradient(circle, rgba(255, 255, 255, 0.68) 0.7px, transparent 1.5px),
        radial-gradient(circle, rgba(255, 245, 250, 0.48) 0.8px, transparent 1.7px),
        radial-gradient(circle, rgba(255, 231, 243, 0.55) 0.9px, transparent 1.8px);
      background-size: 16px 16px, 26px 26px, 38px 38px;
      background-position: 0 0, 11px 9px, 19px 14px;
      opacity: 0.35;
      animation: sparkleFloat 7.5s linear infinite, sparklePulse 2.2s ease-in-out infinite alternate;
    }

    .center-image {
      position: absolute;
      left: 50%;
      top: 50.5%;
      transform: translate(-50%, -50%);
      width: 96%;
      object-fit: contain;
      filter: drop-shadow(0 10px 20px rgba(155, 90, 110, 0.18));
    }

    .save-date {
      position: absolute;
      top: 14%;
      left: 50%;
      transform: translateX(-50%);
      font-family: "Great Vibes", "Times New Roman", serif;
      font-size: clamp(2.3rem, 5.2vw, 4.2rem);
      line-height: 1;
      color: #ad5e77;
      text-shadow: 0 2px 8px rgba(255, 255, 255, 0.35);
      white-space: nowrap;
      animation:
        textFadeIn 0.8s ease-out 0.05s both,
        textRiseIn 0.95s cubic-bezier(0.22, 0.61, 0.36, 1) 0.05s both,
        textFloat 6s ease-in-out 1s infinite;
    }

    .couple {
      position: absolute;
      bottom: 16.8%;
      left: 50%;
      transform: translateX(-50%);
      font-family: "Great Vibes", "Times New Roman", serif;
      font-size: clamp(2.8rem, 6.3vw, 4.8rem);
      line-height: 1;
      color: #aa5b75;
      white-space: nowrap;
      text-shadow: 0 2px 8px rgba(255, 255, 255, 0.32);
      animation:
        textFadeIn 0.9s ease-out 0.2s both,
        textRiseIn 1s cubic-bezier(0.22, 0.61, 0.36, 1) 0.2s both,
        textFloat 6.4s ease-in-out 1.2s infinite;
    }

    .meta {
      position: absolute;
      bottom: 13%;
      left: 50%;
      transform: translateX(-50%);
      font-family: "Cinzel", "Times New Roman", serif;
      font-size: clamp(0.74rem, 1.35vw, 1.1rem);
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: #a7677b;
      white-space: nowrap;
      animation:
        textFadeIn 0.9s ease-out 0.34s both,
        textRiseIn 1s cubic-bezier(0.22, 0.61, 0.36, 1) 0.34s both,
        textFloat 5.8s ease-in-out 1.45s infinite;
    }

    .big-date {
      position: absolute;
      bottom: 4.6%;
      left: 50%;
      transform: translateX(-50%);
      font-family: "Cinzel", "Times New Roman", serif;
      font-weight: 700;
      line-height: 1;
      color: #9e4f66;
      white-space: nowrap;
      display: flex;
      align-items: baseline;
      gap: 0.6rem;
      animation:
        textFadeIn 0.95s ease-out 0.45s both,
        textRiseIn 1.05s cubic-bezier(0.22, 0.61, 0.36, 1) 0.45s both,
        textFloat 6.2s ease-in-out 1.75s infinite;
    }

    .big-date .day {
      font-size: clamp(2.4rem, 5.6vw, 4.5rem);
      letter-spacing: 0.02em;
    }

    .big-date .month {
      font-size: clamp(1.3rem, 2.7vw, 2.2rem);
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .year {
      position: absolute;
      bottom: 1.2%;
      left: 50%;
      transform: translateX(-50%);
      font-family: "Cinzel", "Times New Roman", serif;
      font-size: clamp(0.95rem, 1.8vw, 1.45rem);
      line-height: 1;
      letter-spacing: 0.2em;
      color: #a66a7e;
      white-space: nowrap;
      animation:
        textFadeIn 1s ease-out 0.58s both,
        textRiseIn 1.1s cubic-bezier(0.22, 0.61, 0.36, 1) 0.58s both,
        textFloat 6.8s ease-in-out 1.95s infinite;
    }

    .save-date,
    .couple,
    .meta,
    .big-date,
    .year {
      will-change: transform, opacity;
      backface-visibility: hidden;
      z-index: 3;
      position: absolute;
    }

    .details-page {
      display: grid;
      place-items: center;
      padding: clamp(0.45rem, 1.3vw, 1rem);
    }


    .details-card > * {
      position: relative;
      z-index: 1;
    }

    .details-top {
      font-weight: 700;
      font-size: clamp(0.85rem, 1.5vw, 1.2rem);
      margin-bottom: 0.22rem;
    }

    .details-verse {
      font-size: clamp(0.63rem, 1.05vw, 0.85rem);
      margin-bottom: 0.38rem;
    }

    .details-head {
      font-weight: 700;
      font-size: clamp(0.77rem, 1.2vw, 1rem);
      margin-bottom: 0.2rem;
    }

    .details-head h1 {
      margin: 0;
      font: inherit;
      font-weight: inherit;
    }

    .details-date {
      font-weight: 600;
      font-size: clamp(0.67rem, 1.1vw, 0.9rem);
    }

    .day-title {
      font-weight: 700;
      font-size: clamp(0.67rem, 1.05vw, 0.88rem);
      margin-top: 0.34rem;
      margin-bottom: 0.08rem;
    }

    .item-line {
      display: flex;
      align-items: baseline;
      gap: 0.28rem;
      text-align: left;
      font-size: clamp(0.56rem, 0.95vw, 0.78rem);
      margin: 0.09rem 0;
    }

    .item-line .label,
    .item-line .time {
      white-space: nowrap;
    }

    .item-line .dots {
      flex: 1;
      min-width: 1rem;
      border-bottom: 1px dotted rgba(143, 77, 99, 0.72);
      transform: translateY(-0.04rem);
    }

    .note {
      margin-top: 0.22rem;
      font-size: clamp(0.54rem, 0.9vw, 0.74rem);
      text-align: center;
      background: rgba(255, 255, 255, 0.62);
      border: 1px solid rgba(255, 255, 255, 0.74);
      border-radius: 10px;
      padding: 0.16rem 0.26rem;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.78);
    }

    .page-3-card {
      line-height: 1.2;
      padding: clamp(0.62rem, 1.1vw, 1rem);
    }

    .page3-header {
      display: grid;
      grid-template-columns: 72px 1fr 72px;
      gap: 0.4rem;
      align-items: center;
      margin-bottom: 0.16rem;
    }

    .page3-icon {
      font-size: clamp(1.45rem, 2.2vw, 2rem);
      line-height: 1;
      font-weight: 700;
      color: #6f394e;
      opacity: 0.88;
    }

    .page3-prayer .details-top {
      margin-bottom: 0.08rem;
    }

    .page3-verse {
      font-size: clamp(0.62rem, 0.95vw, 0.82rem);
      margin-bottom: 0;
    }

    .page3-body {
      font-size: clamp(0.58rem, 0.9vw, 0.74rem);
      margin-bottom: 0.06rem;
    }

    .page3-intro {
      font-size: clamp(0.58rem, 0.9vw, 0.74rem);
      margin: 0.12rem 0 0.06rem;
    }

    .page3-name {
      font-weight: 700;
      font-size: clamp(1.1rem, 1.95vw, 1.7rem);
      line-height: 1.06;
      margin: 0.1rem 0 0.06rem;
      color: #612d42;
    }

    .page3-sub {
      font-size: clamp(0.56rem, 0.86vw, 0.72rem);
      margin-bottom: 0.04rem;
    }

    .page3-mid {
      font-weight: 700;
      font-size: clamp(0.78rem, 1.2vw, 1rem);
      margin: 0.08rem 0 0.02rem;
    }

    .page3-highlight {
      font-weight: 700;
      font-size: clamp(0.98rem, 1.65vw, 1.42rem);
      margin: 0.12rem 0 0.08rem;
      color: #5a2439;
    }

    .page3-text {
      font-size: clamp(0.56rem, 0.87vw, 0.72rem);
      margin-bottom: 0.04rem;
    }

    .page3-quote {
      margin: 0.1rem auto;
      max-width: 92%;
      font-size: clamp(0.56rem, 0.88vw, 0.74rem);
      line-height: 1.25;
      font-weight: 600;
    }

    .page3-lists {
      margin-top: 0.08rem;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 0.7rem;
      text-align: left;
    }

    .page3-list {
      padding: 0 0.18rem;
    }

    .page3-list-title {
      font-weight: 700;
      font-size: clamp(0.65rem, 0.99vw, 0.82rem);
      margin-bottom: 0.08rem;
      text-decoration: underline;
    }

    .page3-line {
      font-size: clamp(0.54rem, 0.84vw, 0.7rem);
      margin: 0.03rem 0;
    }

    @keyframes textFadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    @keyframes textRiseIn {
      0% {
        transform: translate3d(-50%, 14px, 0);
      }
      100% {
        transform: translate3d(-50%, 0, 0);
      }
    }

    @keyframes textFloat {
      0% {
        transform: translate3d(-50%, 0, 0);
      }
      50% {
        transform: translate3d(-50%, -4px, 0);
      }
      100% {
        transform: translate3d(-50%, 0, 0);
      }
    }

    @keyframes bokehFloat {
      0% {
        transform: translate3d(-1.2%, -0.8%, 0) scale(1);
      }
      100% {
        transform: translate3d(1.2%, 1%, 0) scale(1.03);
      }
    }

    @keyframes sparkleFloat {
      0% {
        background-position: 0 0, 11px 9px, 19px 14px;
      }
      100% {
        background-position: 24px 20px, 38px 30px, 58px 42px;
      }
    }

    @keyframes sparklePulse {
      0% {
        opacity: 0.22;
      }
      100% {
        opacity: 0.42;
      }
    }

    @keyframes pageTurn {
      0% {
        transform: rotateY(0deg) translateX(0);
        opacity: 0.05;
      }
      35% {
        opacity: 0.95;
      }
      100% {
        transform: rotateY(-80deg) translateX(-6%);
        opacity: 0;
      }
    }

    @media (max-width: 720px) {
      .invite {
        width: min(94vw, 430px);
        height: auto;
      }

      .center-image {
        width: 100%;
        top: 50.5%;
      }

      .save-date {
        top: 15.2%;
        font-size: clamp(2.1rem, 10.2vw, 3.3rem);
      }

      .couple {
        bottom: 17.4%;
        font-size: clamp(2.2rem, 11.2vw, 3.6rem);
      }

      .meta {
        bottom: 13.4%;
        font-size: clamp(0.66rem, 3.1vw, 0.95rem);
        letter-spacing: 0.13em;
      }

      .big-date {
        bottom: 4.9%;
        gap: 0.35rem;
      }

      .big-date .day {
        font-size: clamp(2rem, 10vw, 3.1rem);
      }

      .big-date .month {
        font-size: clamp(1.05rem, 4.8vw, 1.6rem);
      }

      .year {
        bottom: 1.5%;
        font-size: clamp(0.82rem, 4vw, 1.25rem);
      }

      .bokeh-layer {
        opacity: 0.62;
      }

      .sparkle-layer {
        opacity: 0.28;
      }

      .details-card {
        width: 97%;
        padding: 0.52rem;
        line-height: 1.2;
      }

      .details-top {
        font-size: clamp(0.76rem, 2.9vw, 1rem);
        margin-bottom: 0.14rem;
      }

      .details-verse {
        font-size: clamp(0.53rem, 2.1vw, 0.7rem);
        margin-bottom: 0.22rem;
      }

      .details-head {
        font-size: clamp(0.64rem, 2.4vw, 0.86rem);
        margin-bottom: 0.15rem;
      }

      .details-date,
      .day-title {
        font-size: clamp(0.56rem, 2vw, 0.74rem);
      }

      .item-line {
        font-size: clamp(0.47rem, 1.8vw, 0.64rem);
        gap: 0.2rem;
        margin: 0.06rem 0;
      }



      .page-3-card {
        padding: 0.44rem;
        line-height: 1.08;
      }

      .page3-header {
        grid-template-columns: 42px 1fr 42px;
        gap: 0.18rem;
        margin-bottom: 0.1rem;
      }

      .page3-icon {
        font-size: clamp(1rem, 4.3vw, 1.3rem);
      }

      .page3-verse {
        font-size: clamp(0.46rem, 1.7vw, 0.6rem);
        margin-bottom: 0;
      }

      .page3-body,
      .page3-intro,
      .page3-sub,
      .page3-text {
        font-size: clamp(0.42rem, 1.56vw, 0.56rem);
      }

      .page3-name {
        font-size: clamp(0.74rem, 2.75vw, 1.02rem);
      }

      .page3-mid {
        font-size: clamp(0.54rem, 2vw, 0.76rem);
      }

      .page3-highlight,
      .page3-list-title {
        font-size: clamp(0.5rem, 1.9vw, 0.66rem);
      }

      .page3-quote {
        font-size: clamp(0.43rem, 1.58vw, 0.57rem);
        margin: 0.06rem auto;
      }

      .page3-lists {
        gap: 0.38rem;
      }

      .page3-line {
        font-size: clamp(0.4rem, 1.5vw, 0.53rem);
        margin: 0.01rem 0;
      }
    }

    @media (prefers-reduced-motion: reduce) {
      .bokeh-layer,
      .sparkle-layer,
      .save-date,
      .couple,
      .meta,
      .big-date,
      .year {
        animation: none;
      }
    }
  </style>
</head>
<body>
  <main class="invite" aria-label="Wedding Invitation Front">
    <div class="bokeh-layer" aria-hidden="true"></div>
    <div class="sparkle-layer" aria-hidden="true"></div>

    <section class="page page-front active" aria-label="Front Invitation">
      <div class="save-date">Save the Date</div>
      <img class="center-image" src="images/front_center_2.png" alt="Wedding couple in floral mandap" />
      <div class="couple">Sourabh &amp; Kanishka</div>
      <div class="meta">Wednesday - At 08:00 PM</div>
      <div class="big-date"><span class="day">11</span><span class="month">March</span></div>
      <div class="year">2026</div>
    </section>

    <section class="page details-page" aria-label="Mangalik Karyakram Details">
      <article class="details-card">
        <div class="details-top">।। श्री गणेशाय नमः ।।</div>
        <div class="details-verse">
          विघ्न हरण मंगल करण, श्री गणपति जी महाराज ।<br />
          प्रथम निमंत्रण आपको, पूरण कीजियो काज ।।
        </div>
        <div class="details-head"><h1>मांगलिक कार्यक्रम</h1></div>

        <div class="day-title">सोमवार, 09 मार्च 2026</div>
        <div class="item-line"><span class="label">श्री गणेश पूजन</span><span class="dots"></span><span class="time">09:00 बजे प्रातः</span></div>
        <div class="item-line"><span class="label">श्री सत्यनारायण कथा</span><span class="dots"></span><span class="time">05:00 बजे सायं</span></div>

        <div class="day-title">मंगलवार, 10 मार्च 2026</div>
        <div class="item-line"><span class="label">मंगल स्नान</span><span class="dots"></span><span class="time">10:00 बजे प्रातः</span></div>
        <div class="item-line"><span class="label">महिला संगीत</span><span class="dots"></span><span class="time">03:00 बजे अपराह्न</span></div>
        <div class="item-line"><span class="label">अतिथि सत्कार</span><span class="dots"></span><span class="time">हर पल</span></div>
        <div class="item-line"><span class="label">मेहन्दी रस्म</span><span class="dots"></span><span class="time">08:00 बजे रात्रि</span></div>

        <div class="day-title">बुधवार, 11 मार्च 2026</div>
        <div class="item-line"><span class="label">बारात प्रस्थान</span><span class="dots"></span><span class="time">10:00 बजे प्रातः</span></div>
        <div class="item-line"><span class="label">विवाह संस्कार</span><span class="dots"></span><span class="time">शुभ लग्नानुसार</span></div>
        <div class="note">नोटः- बारात हमारे निज निवास स्थान से "राज पैलेस" भिवानी हरियाणा के लिए प्रस्थान करेगी।</div>
        <div class="day-title">बृहस्पतिवार, 12 मार्च 2026</div>
        <div class="item-line"><span class="label">वर-वधू गृह प्रवेश</span><span class="dots"></span><span class="time">02:00 बजे दोपहर</span></div>
        <div class="item-line"><span class="label">प्रीतिभोज</span><span class="dots"></span><span class="time">08:00 बजे रात्रि</span></div>


        <div class="details-date">-: प्रीतिभोज स्थल :-</div>
        <div class="details-date">"गुड लॉक" जलालपुर रोड़, दुर्गा कॉलोनी, रुड़की</div>
        <div class="note">(अगला कार्यक्रम पैतृक गाँव कंसोला चमोली पर सम्पन्न होंगे।</div>
      </article>
    </section>

    <section class="page details-page" aria-label="Wedding Family Invitation">
      <article class="details-card page-3-card">
        <div class="page3-header">
          <div class="page3-icon">ॐ</div>
          <div class="page3-prayer">
            <div class="details-top">।। श्री गणेशाय नमः ।।</div>
            <div class="page3-verse">
              प्रथम निमंत्रण आपको, गौरी पुत्र गणेश।<br />
              मंगल कार्य पूर्ण करें, ब्रह्मा विष्णु महेरा ।।
            </div>
          </div>
          <div class="page3-icon">श्री</div>
        </div>

        <div class="page3-intro">मान्यवर,</div>
        <div class="page3-body">परमपिता परमात्मा एवं पितृ देवों की असीम अनुकम्पा से</div>
        <div class="page3-body">स्व० श्रीमती धनी देवी एवं श्री जगत सिंह बिष्ट अपने प्रिय सुपौत्र</div>

        <div class="page3-name">चि० सौरभ बिष्ट</div>
        <div class="page3-sub">(सुपुत्र श्रीमती सावित्री देवी एवं श्री राम सिंह बिष्ट)</div>

        <div class="page3-mid">संग</div>

        <div class="page3-name">आयु० कनिष्का शर्मा</div>
        <div class="page3-sub">(सुपुत्री स्व० श्रीमती राधिका देवी एवं श्री नरेश कुमार)</div>
        <div class="page3-sub">(निवासी-52/1, म.नं.8, गुड़गाँव, हरियाणा)</div>

        <div class="page3-highlight">ॐ के शुभ विवाहोत्सव ॐ</div>
        <div class="page3-text">की मधुर बेला पर आपको कार्यक्रमानुसार सादर आमन्त्रित करती हैं। कृपया पधारकर</div>
        <div class="page3-text">नवयुगल के भावी जीवन को अपने स्नेहाशीष प्रदान कर, हमें अनुग्रहित करें।</div>

        <div class="page3-quote">
          खुशियों की सौगात होगी, जरुन जरा डट के होगा,<br />
          हमारे चाचा की शादी मैं, अन्दाज जरा हट के होगा।<br />
          - कान्हा, दिविसा..!
        </div>

        <div class="page3-lists">
          <div class="page3-list">
            <div class="page3-list-title">दर्शनाभिलाषी :-</div>
            <div class="page3-line">लक्ष्मण सिंह बिष्ट (चाचा जी)</div>
            <div class="page3-line">भरत सिंह बिष्ट (चाचा जी)</div>
            <div class="page3-line">प्रकाश सिंह बिष्ट (चाचा जी)</div>
            <div class="page3-line">दर्शन सिंह बिष्ट (चाचा जी)</div>
            <div class="page3-line">राजेन्द्र सिंह बिष्ट (चाचा जी)</div>
            <div class="page3-line">समस्त बिष्ट परिवार एवं ईष्ट मित्रगण</div>
          </div>
          <div class="page3-list">
            <div class="page3-list-title">विनीत :-</div>
            <div class="page3-line">कुलदीप बिष्ट (भाई)</div>
            <div class="page3-line">हिमांशु बिष्ट (भाई)</div>
            <div class="page3-line">कु० सुधा बिष्ट (बहन)</div>
            <div class="page3-line">कु० सोनी बिष्ट (बहन)</div>
            <div class="page3-line">कमलेश बिष्ट (भाई)</div>
            <div class="page3-line">मोनिका बिष्ट (भाभी जी)</div>
          </div>
        </div>
      </article>
    </section>
  </main>
  <div class="turn-sheet" aria-hidden="true"></div>

  <script>
    (() => {
      const pages = Array.from(document.querySelectorAll(".page"));
      let currentPage = 0;
      let turning = false;
      let touchStartX = 0;
      let touchStartY = 0;
      let wheelLock = false;
      const MIN_SWIPE = 35;

      function setPage(index) {
        pages.forEach((page, i) => page.classList.toggle("active", i === index));
        currentPage = index;
      }

      function turnPage(direction) {
        if (turning) return;
        const nextPage = Math.max(0, Math.min(pages.length - 1, currentPage + direction));
        if (nextPage === currentPage) {
          wheelLock = false;
          return;
        }

        turning = true;
        document.body.classList.add("turning");

        window.setTimeout(() => {
          setPage(nextPage);
        }, 340);

        window.setTimeout(() => {
          document.body.classList.remove("turning");
          turning = false;
          wheelLock = false;
        }, 760);
      }

      window.addEventListener("wheel", (event) => {
        if (wheelLock) return;
        if (Math.abs(event.deltaX) < 22 && Math.abs(event.deltaY) < 22) return;
        wheelLock = true;
        const forward = Math.abs(event.deltaY) >= Math.abs(event.deltaX)
          ? event.deltaY > 0
          : event.deltaX > 0;
        turnPage(forward ? 1 : -1);
      }, { passive: true });

      window.addEventListener("touchstart", (event) => {
        const touch = event.touches[0];
        touchStartX = touch.clientX;
        touchStartY = touch.clientY;
      }, { passive: true });

      window.addEventListener("touchend", (event) => {
        const touch = event.changedTouches[0];
        const dx = touch.clientX - touchStartX;
        const dy = touch.clientY - touchStartY;
        if (Math.abs(dx) > MIN_SWIPE || Math.abs(dy) > MIN_SWIPE) {
          const horizontal = Math.abs(dx) >= Math.abs(dy);
          const forward = horizontal ? dx < 0 : dy < 0;
          turnPage(forward ? 1 : -1);
        }
      }, { passive: true });

      window.addEventListener("keydown", (event) => {
        if (["ArrowRight", "ArrowDown", "PageDown", " "].includes(event.key)) {
          turnPage(1);
        }
        if (["ArrowLeft", "ArrowUp", "PageUp", "Backspace"].includes(event.key)) {
          turnPage(-1);
        }
      });
    })();
  </script>
</body>
</html>
